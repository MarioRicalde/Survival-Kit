// Survival ✚ Kit

// Survey Styling
// @todo Redo this module.
// Code:
// <form action="#" id="encuesta" class="widget" accept-charset="utf-8">
//   <h3>Encuesta</h3>
//   <div><strong>¿Te gusta el nuevo sitio?</strong></div>
//   <div><input name="opt1" id="opt1" type="radio"> Si me gusta</div>
//   <div><input name="opt2" id="opt2" type="radio"> No me gusta</div>
//   <div><a href="#" class="button">Votar</a></div>
// </form>
@mixin survey {
  strong {
    padding:10px;
    display:block;
    font-size:14px;
    color: $font-color;
  }
  div {
    padding-left:5px;
    font-size:14px;
    input {
      vertical-align:top;
    }
    .button {
      @include button;
    }
  }
}

// Facebook-ike asearch box.
// @todo include the missing search image.
// Code:
// <div class="search-box">
//   <div class="shadow">
//     <span class="input">
//       <input name="q" onblur="if(this.value==&quot;&quot;)this.value=&quot;Buscar&quot;;" onfocus="if(this.value==&quot;Buscar&quot;) this.value=&quot;&quot;;" size="15" type="text" value="Buscar" />
//     </span>
//     <span class="button"><input name="sa" type="submit" value="" /></span>
//   </div>
// </div>
@mixin facebook-search-box($size:300px, $border: #BAC6D7, $light: #e9eef1) {
  border: 1px solid $border;
  height:20px;
  width:$size;
  .shadow {
    background:#fff;
    border-top:1px solid $light;
    height:18px;
    padding-top:1px;
  }
  span {
    font-size:11px;
    line-height:11px;
  }
  input {
    font-size:11px;
    border:0;
    outline:none;
  }
  .input input {
    padding: 2px 4px 2px 6px;
    float:left;
    color:#777777;
    width:$size - 36px;
  }
  .button input {
    float:right;
    cursor:pointer;
    text-indent:-99999px;
    display: block;
    background:transparent image-url('search-icon-fb.png') left top no-repeat;
    width:21px;
    height:17px;
  }
}

// A simple search box, generic.
// If $width contains a second argument, it won't output the width to the parent element, allowing you to use box-size.
// 
// <form action="#" accept-charset="utf-8" class="search-box">
//   <input type="text" class="text" value="Search..." name="q" />
//   <input type="submit" class="button" value="s" />
// </form>
@mixin search-box-simple($width:189px, $background: #FFFFFF, $font-size:12px) {
  // Here Begins
  $button-width: 24px;

  // Calculate the height based on the given font-size.
  // The multiplier will make it so there's a sexy veritcal spacing.
  $height: $font-size * 2;
  background:$background;
  // IF you pass a second parameter to width, it won't output the width.
  @if length($width) == 1 {
    height:$height;
    width:$width;
  } @else {
    $width: nth($width, 1);
  }
  
  input {
    font-size:$font-size;
    border:0;
    outline:none;
  }
  .text {
    $padding: 10px;
    padding:0 $padding 0 $padding;
    float:left;
    color:#777777;
    width:$width - $button-width - ($padding * 2) - 6px;
    line-height:$height;
    height:$height;
  }
  .button {
    float:right;
    cursor:pointer;
    text-indent:-99999px;
    display: block;
    background:red;
    width:$button-width;
    height:$height;
    background:transparent image-url('vendor/survival-kit/search-icon.png') left center no-repeat;
  }
}

// Facebook Style Button.
//
// <div class="button"><label><input value="Post" type="submit"></label></div>
//
// @param $color the color of the button.
// @param $background-color the color of the background; this is used to calculate the shadow.
// @param $padding the size of the button with padding.
@mixin facebook-button($color:#617AAC, $background-color:#FFFFFF, $padding: 4px 10px) {
  &:active {
    @if $background-color != false {
      border-bottom:1px solid darken($background-color,5);
    }
  }
  font-size:11px;
  @if $background-color != false {
    border-bottom:1px solid darken($background-color,10);
  }
  @include inline-block;
  label,span {
    border:1px solid darken($color,14);
    @include inline-block;
    input:active {
      background:darken($color, 5);
      border-top:1px solid darken($color, 5);
    }
    input,a {
      @include no-mp;
      padding:$padding;
      font: normal normal normal 12px/normal Arial, Helvetica, sans-serif;
      font-weight:bold;
      cursor:pointer;
      color:lighten($color, 95);
      border:0;
      border-top:1px solid lighten($color,14);
      border-bottom:1px solid $color;
      background:$color;
    }
  }
}

// 
// Forms Styles (Survival Kit)
// This styles are meant to be used with Simple_Forms (Rails)
//
@mixin simple-forms($selector:"simple_form") {
  $input-width:300px;
  $input-font-size        : $base-font-size;
  $vertical-spacing       : 3px;
  $horizontal-spacing     : 3px;
  $vertical-field-padding : $vertical-spacing * 2;
  .#{$selector} {
    @include debug;
    & > .hint {
      @include debug(green);
      padding:$vertical-field-padding 0;
      overflow:hidden;
      display:inline-block;
    }
    
    p {
      padding:$vertical-field-padding 0;
      margin:$vertical-spacing;
    }

    label {
      @include debug(green);
      vertical-align:middle; // double line labels.
      display:inline-block;  // works with already inline displayed items.
      margin:0 $horizontal-spacing 0 0;
      padding: $vertical-field-padding 0;
      line-height:$input-font-size + ($input-font-size * 0.26);
      abbr {
        @include debug(yellow);
        color:#E62500;
        margin-right:$horizontal-spacing;
      }
    }
    
    .ext-sfr {
      @include debug(yellow);
      display: inline-block;
      width: 184px;
      vertical-align: middle;
    }

    .input {
      @include debug(blue);
      text-align:left;
      padding:$vertical-spacing 0;
      overflow:hidden;
      .hint {
        @extend .ext-sfr;
        margin-left:$horizontal-spacing;
        color: #6E6E6E;
      }
    }
    
    select {
      width:$input-width + ($vertical-field-padding * 2);
      border:1px solid #CCCCCC;
      outline:none;
      height:14px + 6px*2;
      &:focus {
        border:1px solid #7DBEF1;
      }
    }
    
    textarea, input[type=text], input[type=password] {
      font-size:$input-font-size;
      // Inner shadow
      @include box-shadow(inset 0 1px 2px rgba(0, 0, 0, 0.1), 0 1px 0 rgba(255, 255, 255, 0.2));
      outline: 0;
      padding: $vertical-field-padding 6px;
      vertical-align:top;
      width:$input-width;
      border:1px solid #CCCCCC;
      &:focus {
      	@include box-shadow(0 0 6px rgba(23,135,208,0.7));
        border:1px solid #7DBEF1;
      }
    }
    
    input {
      &.check_boxes, &.radio, &.boolean {
        vertical-align:middle;
        margin-right:$horizontal-spacing;
      }
    }
    
    // errors
    span.error {
      @extend .ext-sfr;
      color: #D65C5C;
      font-size: 12px;
      margin-left: 10px;
    }
    
    #error_explanation {
      background: #FFEBD6;
      padding: 10px 14px;
      border: 1px solid #FFB36C;
      margin:$vertical-spacing * 4 0;
      color:#895334;
      @include box-shadow(#D4D4D4 0 0 10px);
      h2 {
        @include header-size(18px);
        color:#AE4910;
        margin-top:0;
      }
    }
    
    // Simple Form Button for the forms.
    .button {
      @include sk-fancy-button-default;
    }
  }
}

// Allows you to have different widths for different layouts.
@mixin simple-form-width($width) {
  textarea, input[type=text], input[type=password] {
    width:$width;
  }
}